/*
 * Typesense API
 *
 * An open source search engine for building delightful search experiences.
 *
 * The version of the OpenAPI document: 30.0
 *
 * Generated by: https://openapi-generator.tech
 */

use crate::models;
use serde::{Deserialize, Serialize};

#[derive(bon::Builder)]
#[builder(on(String, into))]
#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
pub struct CollectionSchema {
    /// Name of the collection
    #[serde(rename = "name")]
    pub name: String,
    /// A list of fields for querying, filtering and faceting
    #[serde(rename = "fields")]
    pub fields: Vec<models::Field>,
    /// The name of an int32 / float field that determines the order in which the search results are ranked when a sort_by clause is not provided during searching. This field must indicate some kind of popularity.
    #[serde(
        rename = "default_sorting_field",
        skip_serializing_if = "Option::is_none"
    )]
    pub default_sorting_field: Option<String>,
    /// List of symbols or special characters to be used for splitting the text into individual words in addition to space and new-line characters.
    #[serde(rename = "token_separators", skip_serializing_if = "Option::is_none")]
    pub token_separators: Option<Vec<String>>,
    /// List of synonym set names to associate with this collection
    #[serde(rename = "synonym_sets", skip_serializing_if = "Option::is_none")]
    pub synonym_sets: Option<Vec<String>>,
    /// Enables experimental support at a collection level for nested object or object array fields. This field is only available if the Typesense server is version `0.24.0.rcn34` or later.
    #[serde(
        rename = "enable_nested_fields",
        skip_serializing_if = "Option::is_none"
    )]
    pub enable_nested_fields: Option<bool>,
    /// List of symbols or special characters to be indexed.
    #[serde(rename = "symbols_to_index", skip_serializing_if = "Option::is_none")]
    pub symbols_to_index: Option<Vec<String>>,
    #[serde(rename = "voice_query_model", skip_serializing_if = "Option::is_none")]
    pub voice_query_model: Option<Box<models::VoiceQueryModelCollectionConfig>>,
    /// Optional details about the collection, e.g., when it was created, who created it etc.
    #[serde(rename = "metadata", skip_serializing_if = "Option::is_none")]
    pub metadata: Option<serde_json::Value>,
}

impl CollectionSchema {
    pub fn new(name: String, fields: Vec<models::Field>) -> CollectionSchema {
        CollectionSchema {
            name,
            fields,
            default_sorting_field: None,
            token_separators: None,
            synonym_sets: None,
            enable_nested_fields: None,
            symbols_to_index: None,
            voice_query_model: None,
            metadata: None,
        }
    }
}
